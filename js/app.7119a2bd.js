(function(s){function t(t){for(var r,l,p=t[0],c=t[1],v=t[2],i=0,o=[];i<p.length;i++)l=p[i],Object.prototype.hasOwnProperty.call(e,l)&&e[l]&&o.push(e[l][0]),e[l]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(s[r]=c[r]);_&&_(t);while(o.length)o.shift()();return n.push.apply(n,v||[]),a()}function a(){for(var s,t=0;t<n.length;t++){for(var a=n[t],r=!0,p=1;p<a.length;p++){var c=a[p];0!==e[c]&&(r=!1)}r&&(n.splice(t--,1),s=l(l.s=a[0]))}return s}var r={},e={app:0},n=[];function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return s[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=s,l.c=r,l.d=function(s,t,a){l.o(s,t)||Object.defineProperty(s,t,{enumerable:!0,get:a})},l.r=function(s){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},l.t=function(s,t){if(1&t&&(s=l(s)),8&t)return s;if(4&t&&"object"===typeof s&&s&&s.__esModule)return s;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&t&&"string"!=typeof s)for(var r in s)l.d(a,r,function(t){return s[t]}.bind(null,r));return a},l.n=function(s){var t=s&&s.__esModule?function(){return s["default"]}:function(){return s};return l.d(t,"a",t),t},l.o=function(s,t){return Object.prototype.hasOwnProperty.call(s,t)},l.p="/";var p=window["webpackJsonp"]=window["webpackJsonp"]||[],c=p.push.bind(p);p.push=t,p=p.slice();for(var v=0;v<p.length;v++)t(p[v]);var _=c;n.push([0,"chunk-vendors"]),a()})({0:function(s,t,a){s.exports=a("56d7")},"000d":function(s,t,a){"use strict";a("f7d0")},"039a":function(s,t,a){s.exports=a.p+"img/19-排版.e46e4519.svg"},"0554":function(s,t,a){},"0d28":function(s,t,a){"use strict";a.r(t);var r=a("9bd0"),e=a("269d");for(var n in e)["default"].indexOf(n)<0&&function(s){a.d(t,s,(function(){return e[s]}))}(n);var l=a("2877"),p=Object(l["a"])(e["default"],r["a"],r["b"],!1,null,null,null);t["default"]=p.exports},"0e1e":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("用JS写一个自定义Promise")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("myPromise")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("constructor")]),s._v(") ")]),s._v("{\n\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" self = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(";\n\tself.status = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"pending"')]),s._v("; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//定义状态改变前的初始状态")]),s._v("\n\tself.value = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v("; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//定义状态为resolve的时候")]),s._v("\n\tself.reason = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v("; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//定义状态为reject的时候")]),s._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("resolve")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("value")]),s._v(") ")]),s._v("{\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (self.status === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"pending"')]),s._v(") {\n\t\t\tself.value = value;\n\t\t\tself.status === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"resolved"')]),s._v(";\n\t\t}\n\t}\n\n\t"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("reject")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("reason")]),s._v(") ")]),s._v("{\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (self.status === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"pending"')]),s._v(") {\n\t\t\tself.reason = reason;\n\t\t\tself.status === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"rejected"')]),s._v(";\n\t\t}\n\t}\n\n\t"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//捕获构造异常")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("try")]),s._v(" {\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("constructor")]),s._v("(resolve, reject)\n\t} catch (e) {\n\t\treject(e);\n\t}\n}\n\nmyPromise.prototype.then = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("onFullfilled, onRejected")]),s._v(") ")]),s._v("{\n\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" self = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(";\n\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("switch")]),s._v(" (self.status) {\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"resolved"')]),s._v(":\n\t\t\tonFullfilled(self.value);\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"rejected"')]),s._v(":\n\t\t\tonRejected(self.reason);\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("break")]),s._v(";\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(":\n\t}\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// // 测试代码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// var p=new myPromise(function(resolve,reject){resolve(1)});")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// p.then(function(x){console.log(x)})")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// //输出1")]),s._v("\n")])])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},1148:function(s,t,a){"use strict";a.r(t);var r=[{name:"JavaScript",item:[]},{name:"Vue",item:[]},{name:"前端类知识",item:[]},{name:"说明书",item:[]}];t["default"]=r},1527:function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("Vue 使用Object.freeze()优化性能")]),a("p",[s._v("vue项目渲染数据的时候，特别是大数据，那么页面加载数据的时候可能会有一定的时间拖延。")]),a("p",[s._v("前端这边可以提供的方法有：")]),a("ol",[a("li",[s._v("使用Loading加载，提升页面的交互效果（产品方向）")]),a("li",[s._v("使用分页，和后端沟通，一次性只获取部分数据")]),a("li",[s._v("或者使用Object.freeze()来冻结数据")])]),a("p",[s._v("这次就根据Object.freeze()来讲一下，为什么这个方法能优化Vue的数据加载问题。")]),a("p",[s._v("Vue在页面渲染的时候，vue会给data数据加上 getter 和 setter 进行数据的监听。顾名思义，这就是vue源码默认给数据加上的一个计算、监听属性，类似于我们手动添加watch属性，然后监听某一个变量时的设置（watch属性内，也可以自己手动添加get、set方法）。")]),a("p",[s._v("但是Object.freeze()方法能冻结vue中的数据，即不需要添加vue默认的 getter 和 setter，那么这样能减少vue添加这些属性的时间，同时也可以减少cpu的开销，因为渲染的数据时不要进行监听的。")]),a("blockquote",[a("p",[s._v("如果使用Object.frezze()冻结数据，那么数据加载的速度能增加4-10倍")])]),a("p",[s._v("需要注意的是，一旦使用了Object.freeze()来冻结数据，那么在代码中就不能直接进行数据的修改，如修改对象内的变量，否则会报错。但是可以给变量赋一个新的值。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Vue({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// vue不会对list里的object做getter、setter绑定")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("list")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v(".freeze([\n            { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" },\n            { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" }\n        ])\n    },\n    mounted () {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 界面不会有响应")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".list["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].value = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(";\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 下面两种做法，界面都会响应")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".list = [\n            { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(" },\n            { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200")]),s._v(" }\n        ];\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".list = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v(".freeze([\n            { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(" },\n            { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200")]),s._v(" }\n        ]);\n    }\n})\n\n作者：Mr_Google\n链接：https:"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//juejin.im/post/6844903922469961741")]),s._v("\n来源：掘金\n著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。\n")])])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},1662:function(s,t,a){"use strict";a("bb5b")},1702:function(s,t,a){},"18f2":function(s,t,a){s.exports=a.p+"img/making_code4.19ba3080.png"},2557:function(s,t,a){s.exports=a.p+"img/making_code1.512f1873.png"},"269d":function(s,t,a){"use strict";a.r(t);var r=a("894f"),e=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(s){a.d(t,s,(function(){return r[s]}))}(n);t["default"]=e.a},"30ad":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("Vue 变量污染")]),a("p",[s._v("在Vue开发中遇到了一个问题，如果将一个本地data里面的变量直接赋值给另外一个变量，那么修改“接受”变量的时候，也会直接影响到“授予”变量，这就是一个变量污染问题")]),a("blockquote",[a("p",[s._v("目前是出现在一个数组赋值的情况下，经测试，单纯的String赋值并没有改变原数值")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("data(){\n\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v("{\n  \t"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("newVal")]),s._v(":[],\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("oldVal")]),s._v(":["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'123'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'234'")]),s._v("],\n  }\n},\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n\t changeVal() {\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".newVal = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".oldVal;\n            "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".newVal)\n        },\n   change() {\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".newVal.splice("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$nextTick("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n          "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".oldVal); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//会输出234,第一个数据被删除了")]),s._v("\n           });\n       }\n}\n")])]),a("p",[s._v("上面的代码中，可以直接表明如果将一个数组赋值到一个新的变量中，修改新变量会直接影响到之前的数组"),a("br"),s._v("解决方法：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".newVal = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("JSON")]),s._v(".parse("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("JSON")]),s._v(".stringify("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".oldVal))\n")])]),a("p",[s._v("同时也可以使用es6的新特性进行赋值")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".newVal = [...this.oldVal];\n")])]),a("p",[s._v("另外，如果变量是对象的话，可以使用this.newVal = Object.assign({},this.oldVal)进行赋值"),a("br")])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},"32a8":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("JavaScript this指向问题")]),a("blockquote",[a("p",[s._v("具体的问题和实例都可以参考"),a("a",{attrs:{href:"https://www.cnblogs.com/pssp/p/5216085.html"}},[s._v("https://www.cnblogs.com/pssp/p/5216085.html")]),s._v("，这里做简化")])]),a("p",[s._v("要弄清楚JavaScript里面的this指向问题，那么需要知道一句话：this的指向永远指向调用它的那一个实例，下面以代码梳理一下。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("a")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" user = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"追梦子"')]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".user); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//undefined")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v("); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//Window")]),s._v("\n}\na();\n")])]),a("p",[s._v("上述的代码中，a方法是直接被window所调用，那么this的指向就指向了window，而且window实例里面并没有user字段，所以会输出undefined。 那么我们可以更改一下代码，让this指向本实例")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" o = {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("user")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"追梦子"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fn")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".user);  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//追梦子")]),s._v("\n    }\n}\no.fn();\n")])]),a("p",[s._v("在上面的代码中，func呗o实例所调用，那么this指向了o实例，所以this.user会输出数据。 当然还有一些特殊情况入下：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" o = {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("user")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"追梦子"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fn")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".user); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//追梦子")]),s._v("\n    }\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".o.fn();\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" o = {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("b")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fn")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".a); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//12")]),s._v("\n        }\n    }\n}\no.b.fn();\n")])]),a("p",[s._v("上述说明了，无论最开头是谁调用的，this指向指指向最近调用它的那一个实例。除了下面的例子外：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" o = {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("b")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fn")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".a); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//undefined")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v("); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//window")]),s._v("\n        }\n    }\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" j = o.b.fn;\nj(); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//这里调用的还是window")]),s._v("\n")])]),a("p",[s._v("那么还有一种情况是，如果func里面出现了return，那么this指向也会改变")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")  \n")]),s._v("{  \n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".user = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'追梦子'")]),s._v(";  \n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {};  \n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" a = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" fn;  \n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(a.user); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//undefined")]),s._v("\n\n===================================\n\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")  \n")]),s._v("{  \n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".user = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'追梦子'")]),s._v(";  \n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{};\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" a = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" fn;  \n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(a.user); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//undefined")]),s._v("\n\n====================================\n  \n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("fn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")  \n")]),s._v("{  \n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".user = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'追梦子'")]),s._v(";  \n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" a = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" fn;  \n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(a.user); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//追梦子")]),s._v("\n")])]),a("p",[s._v("上面说明了，如果返回值是一个对象，那么这个this将指向这个对象，如果返回值不是一个对象那么还是指向该实例。不过null也是对象，但是this也还是会指向该实例，null是一个特例。")])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},"33d8":function(s,t,a){s.exports=a.p+"img/making_code3.1dcf2fdb.png"},"355c":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("文本超过宽度隐藏显示（兼容其他浏览器）")]),a("ul",[a("li",[s._v("单行文本隐藏显示")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-css"}},[a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".overflow")]),s._v("{\n\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("white-space")]),s._v(": nowrap;\n  "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("overflow")]),s._v(":hidden;\n  "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("text-overflow")]),s._v(": ellipsis;\n}\n")])]),a("ul",[a("li",[s._v("多行文本隐藏显示（只支持谷歌、firefox等内核）")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-css"}},[a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".overflow")]),s._v("{\n\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("overflow")]),s._v(": hidden;\n  "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("overflow")]),s._v(": hidden;\n  "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("text-overflow")]),s._v(": ellipsis;\n  "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": -webkit-box;\n  "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("-webkit-box-orient")]),s._v(": vertical;\n  "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("-webkit-line-clamp")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(";\n}\n")])]),a("ul",[a("li",[s._v("支持其他浏览器的多行隐藏（使用after伪类添加...content）")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-css"}},[a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".multi-text")]),s._v("{\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("50%")]),s._v(";\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4.5rem")]),s._v(";\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.5")]),s._v(";\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(";\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background")]),s._v(": lightblue;\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("overflow")]),s._v(": hidden;\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("position")]),s._v(": relative;\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("box-sizing")]),s._v(": border-box;\n\t\t}\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".multi-text")]),a("span",{pre:!0,attrs:{class:"hljs-selector-pseudo"}},[s._v("::after")]),s._v(" {\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("content")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'...'")]),s._v(";\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.5rem")]),s._v(";\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("position")]),s._v(": absolute;\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("bottom")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5px")]),s._v(";\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("right")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5px")]),s._v(";\n\t\t}\n")])])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},3780:function(s,t,a){s.exports=a.p+"img/Alipay.d11d8700.jpg"},"3aed":function(s,t,a){var r={"./JavaScript/JavaScript this指向问题.md":"32a8","./JavaScript/JavaScript使用递归造成内存溢出.md":"4ec9","./JavaScript/JavaScript性能优化篇.md":"a47c","./JavaScript/JavaScript柯里化函数.md":"f06b","./JavaScript/用JS写一个自定义Promise.md":"0e1e","./Vue/Fetch请求api-前后端分离.md":"eafa","./Vue/Vue 使用Object.freeze()优化性能.md":"1527","./Vue/Vue 变量污染.md":"30ad","./Vue/Vue 嵌套通信进阶-$attrs、$listeners.md":"90c4","./Vue/Vue-router 页面动态变化.md":"3f5d","./Vue/Vue路由拦截器.md":"cb68","./Vue/Vue项目性能加载优化.md":"92ee","./Vue/记录用户离开的页面位置，返回页面重新复位.md":"d6b7","./category":"1148","./category.js":"1148","./config":"b638","./config.js":"b638","./前端类知识/CSS-更改浏览器内置滚动条样式.md":"a85d","./前端类知识/事件委托（事件代理）.md":"0d28","./前端类知识/文本超过宽度隐藏显示（兼容其他浏览器）.md":"355c","./前端类知识/输入URL到页面渲染的一个过程.md":"7dd8","./说明书/关于“七元”是如何开发的.md":"9e8d"};function e(s){var t=n(s);return a(t)}function n(s){if(!a.o(r,s)){var t=new Error("Cannot find module '"+s+"'");throw t.code="MODULE_NOT_FOUND",t}return r[s]}e.keys=function(){return Object.keys(r)},e.resolve=n,s.exports=e,e.id="3aed"},"3f22":function(s,t,a){var r={"./JavaScript/JavaScript this指向问题.md":"32a8","./JavaScript/JavaScript使用递归造成内存溢出.md":"4ec9","./JavaScript/JavaScript性能优化篇.md":"a47c","./JavaScript/JavaScript柯里化函数.md":"f06b","./JavaScript/用JS写一个自定义Promise.md":"0e1e","./Vue/Fetch请求api-前后端分离.md":"eafa","./Vue/Vue 使用Object.freeze()优化性能.md":"1527","./Vue/Vue 变量污染.md":"30ad","./Vue/Vue 嵌套通信进阶-$attrs、$listeners.md":"90c4","./Vue/Vue-router 页面动态变化.md":"3f5d","./Vue/Vue路由拦截器.md":"cb68","./Vue/Vue项目性能加载优化.md":"92ee","./Vue/记录用户离开的页面位置，返回页面重新复位.md":"d6b7","./前端类知识/CSS-更改浏览器内置滚动条样式.md":"a85d","./前端类知识/事件委托（事件代理）.md":"0d28","./前端类知识/文本超过宽度隐藏显示（兼容其他浏览器）.md":"355c","./前端类知识/输入URL到页面渲染的一个过程.md":"7dd8","./说明书/关于“七元”是如何开发的.md":"9e8d"};function e(s){var t=n(s);return a(t)}function n(s){if(!a.o(r,s)){var t=new Error("Cannot find module '"+s+"'");throw t.code="MODULE_NOT_FOUND",t}return r[s]}e.keys=function(){return Object.keys(r)},e.resolve=n,s.exports=e,e.id="3f22"},"3f5d":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("Vue-router 页面动态变化")]),a("p",[s._v("在Vue开发中，如果在一个组件或者一个页面内直接修改Url路径上的参数，这个组件或者这个页面可能不会发生变化，是因为Vue会直接认为组件或者页面的渲染没有直接变化所以不重新加载这个组件或者页面。所以组件或页面的created或者mounted等方法都不会执行。")]),a("p",[s._v("但是可以使用$router来执行动态监听router上的参数变化")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("watch:{\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//或者写$router()")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'$router'")]),s._v(":{\n  \t"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("handler")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'xxxx'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//xxx是你自定义的方法，不用指定this")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("immediate")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n  }\n}\n")])]),a("p",[s._v("上诉的代码就可以解决修改router路由上的参数页面或者组件并没有发生变化或者重新渲染的问题。")]),a("p",[s._v("但是如果为了再简化，还有另外一个种写法")]),a("blockquote",[a("p",[s._v("可以参考"),a("a",{attrs:{href:"https://segmentfault.com/a/1190000014085613"}},[s._v("https://segmentfault.com/a/1190000014085613")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("created(){\n\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".getPost("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$route.params.id)\n}\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-view")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$route.fullpath"')]),s._v(">")]),s._v("\n\t\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-view")]),s._v(">")]),s._v("\n")])]),a("p",[s._v("上诉代码中，直接给router-view定义一个完整路径的参数的一个key值，如果路径发生变化的时候，那么router-view的key值也会将发生变化，顺带刷新了router-view。")])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},"421e":function(s,t,a){"use strict";a("0554")},"4b95":function(s,t,a){s.exports=a.p+"img/making_full.d54a7358.png"},"4ec9":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("JavaScript使用递归造成内存溢出")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" num = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n\n\t"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("text")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n\t\tnum++;\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (num > "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(") {\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'执行完毕'")]),s._v(");\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(";\n\t\t} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n\t\t\ttext();\n\t\t}\n\t}\n")])]),a("p",[s._v("上述代码中，很明显是一个递归函数，只要条件不满足就会不断得调用自己。"),a("br"),s._v("但是如果条件设置得比较大的时候，可能会造成内存溢出或者泄露，导致页面卡死等问题。"),a("br"),a("br"),s._v("所以我们在开发的时候，要经常注意一下程序是否使用了递归函数，那么这个递归函数是否会对浏览器或者页面造成性能的影响，我们需要进行优化。"),a("br")]),a("blockquote",[a("p",[s._v("如果想了解在JavaScript中其他的优化性能方法，可以参考一下这篇文章")])]),a("p",[a("br"),s._v("回到正题，如果我们使用了递归且逻辑业务量比较大的时候，我们需要使用下面的优化方式：")]),a("ul",[a("li",[s._v("尾调用递归")]),a("li",[s._v("闭包")]),a("li",[s._v("事件驱动")])]),a("hr"),a("p",[a("a",{attrs:{name:"rYMuY"}})]),a("h3",[s._v("尾调用函数")]),a("p",[s._v("什么是尾调用？简单来说就是在函数的最后一步调用另外一个函数")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("wdg")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" anotherFunc(); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//在最后一步执行了另外的函数")]),s._v("\n\t}\n")])]),a("p",[s._v("但是下面的func都不属于尾调用优化")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("/ 情况一\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("f")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("x")]),s._v(")")]),s._v("{\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" y = g(x);\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" y;\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 情况二")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("f")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("x")]),s._v(")")]),s._v("{\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" g(x) + "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n}\n")])]),a("p",[a("br"),s._v("为什么尾调用会有优化效果？下面是阮一峰的解释：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("f")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" m = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" n = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" g(m + n);\n}\nf();\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 等同于")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("f")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" g("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(");\n}\nf();\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 等同于")]),s._v("\ng("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(");\n")])]),a("p",[s._v("上面代码中，如果函数g不是尾调用，函数f就需要保存内部变量m和n的值、g的调用位置等信息。但由于调用g之后，函数f就结束了，所以执行到最后一步，完全可以删除 f() 的调用记录，只保留 g(3) 的调用记录。"),a("br"),a("br"),s._v('这就叫做"尾调用优化"（Tail call optimization），即只保留内层函数的调用记录。如果所有函数都是尾调用，那么完全可以做到每次执行时，调用记录只有一项，这将大大节省内存。这就是"尾调用优化"的意义。')]),a("p",[s._v("所以尾递归也比较容易理解了，就是在函数的最后一步进行自身的调用，且不用记录之前的任何数据")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//非尾递归函数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("factorial")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("n")]),s._v(") ")]),s._v("{\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (n === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" n * factorial(n - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n}\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//尾递归函数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("factorial")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("n, total")]),s._v(") ")]),s._v("{\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (n === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" total;\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" factorial(n - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", n * total);\n}\n")])]),a("blockquote",[a("p",[s._v("上面的代码中很容易看出，非尾递归函数还需要记录n的信息和调用记录")])]),a("hr"),a("p",[a("a",{attrs:{name:"Od1dd"}})]),a("h3",[s._v("闭包")]),a("p",[s._v("闭包，简单易懂就是在函数内包裹多一层函数进行递归")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("isEven")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("num")]),s._v(") ")]),s._v("{\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (num === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(") {\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(";\n\t\t}\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" isEven("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".abs(num) - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(");\n\t\t}\n\t}\n")])]),a("hr"),a("p",[a("a",{attrs:{name:"Iykow"}})]),a("h3",[s._v("事件驱动")]),a("p",[s._v("在JS中，setTimeout这种方式的函数调用，实际上是将该函数的引用（指针）储存起来，并在适当的时候调用，而且setTimeout是宏任务，可以对递归有一定的优化作用。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("factorial")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("number, result = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")])]),s._v(") ")]),s._v("{\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (number === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'result'")]),s._v(", result)\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" result\n  }\n  setTimeout("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n    factorial(number - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", number * result)\n  }, "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(")\n}\n")])]),a("p",[s._v("上面的代码说明，将函数递归放到宏任务中，下一次函数调用时，上一个 “父” 函数的调用已经执行完毕，就不会存在堆栈溢出的风险。")])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},5405:function(s,t,a){s.exports=a.p+"img/45-适配2.70c1e06e.svg"},"562b":function(s,t,a){s.exports=a.p+"img/pen.09964232.svg"},"56d7":function(s,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),e=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"web_NavBar"},[a("nav-bar")],1),a("div",{staticClass:"content"},[a("router-view")],1),a("foot-bar")],1)},n=[],l=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"NavBar"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light fixed-top"},[a("a",{staticClass:"navbar-brand mb-0 h1",attrs:{href:"javascript:void(0)"},on:{click:function(t){return s.toPage(0)}}},[s._v("七元")]),a("button",{ref:"navbar-toggler",staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})]),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr2R ml2R ml-auto"},[a("li",{class:["nav-item",{active:"0"===s.active}]},[a("a",{staticClass:"nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){return s.toPage(0)}}},[s._v("主页 "),a("span",{staticClass:"sr-only"},[s._v("(current)")])])]),a("li",{class:["nav-item",{active:"1"===s.active}]},[a("a",{staticClass:"nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){return s.toPage(1)}}},[s._v("文章")])]),a("li",{class:["nav-item",{active:"2"===s.active}]},[a("a",{staticClass:"nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){return s.toPage(2)}}},[s._v("关于网站")])])]),a("div",{staticClass:"flex"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.searchValue,expression:"searchValue",modifiers:{trim:!0}}],staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"搜索","aria-label":"Search"},domProps:{value:s.searchValue},on:{input:function(t){t.target.composing||(s.searchValue=t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),a("button",{staticClass:"btn btn-outline-success my-2 my-sm-0",on:{click:s.search}},[s._v("搜索")])])])])])},p=[],c=(a("c975"),a("d3b7"),a("ddb0"),a("b85c")),v=a("b638"),_={name:"NavBar",data:function(){return{active:"0",searchValue:""}},methods:{toPage:function(s){switch(s){case 0:this.$router.push("/");break;case 1:this.$router.push("/EssayLists");break;case 2:this.toHow();break}0!==this.$refs["navbar-toggler"].offsetHeight&&this.$refs["navbar-toggler"].click()},toHow:function(){var s,t,a=v["default"].getFiles(),r=Object(c["a"])(a.keys());try{for(r.s();!(t=r.n()).done;){var e=t.value;if(e.indexOf("七元")>-1){this.$router.push({name:"Essay",params:{fileName:s,filePath:e}});break}}}catch(n){r.e(n)}finally{r.f()}},search:function(){if(!this.searchValue)return alert("请输入内容！"),!1;0!==this.$refs["navbar-toggler"].offsetHeight&&this.$refs["navbar-toggler"].click(),this.$router.push({path:"/SearchLists",query:{searchValue:this.searchValue}})}},watch:{"$store.state.active":function(s,t){this.active=s}}},i=_,o=(a("b010"),a("2877")),h=Object(o["a"])(i,l,p,!1,null,"5cb2e184",null),u=h.exports,j=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"FootBar"},[s._v(" Copyright © 2021 by Quin Lin ")])},m=[],d={name:"FootBar"},f=d,g=(a("421e"),Object(o["a"])(f,j,m,!1,null,"6804df0e",null)),b=g.exports,y={components:{FootBar:b,NavBar:u},data:function(){return{}},methods:{}},w=y,k=(a("5c0b"),Object(o["a"])(w,e,n,!1,null,null,null)),x=k.exports,C=a("8c4f"),E=function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",{staticClass:"Home"},[r("div",{class:["banner","RGBAnimation","banner_color-"+s.getBanner()]},[s._m(0),s._m(1),s.isOverPad?r("div",{staticClass:"intro"},[s._m(2),r("div",{staticClass:"line"}),s._m(3),r("div",{staticClass:"line"}),s._m(4)]):r("div",{staticClass:"slideOver"},[s._m(5)])]),r("div",{staticClass:"home_content"},[r("div",{staticClass:"content_title"},[s._v("这里有什么?")]),r("img",{staticClass:"content_pic",attrs:{src:a("039a")}}),r("div",{staticClass:"content_intro"},[s._v("较为常见的前端类文章将不断在这里更新")]),r("div",{staticClass:"content_intro intro--gray"},[s._v(" 你可以在这里查看各类前端技术文章，包含前端基础、JavaScript、Vue等框架内容 ")]),r("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:s.toEssayLists}},[s._v("看看有什么文章")])]),s._m(6),r("div",{staticClass:"home_content"},[r("div",{staticClass:"content_title"},[s._v("这个博客是如何做到的?")]),r("img",{staticClass:"content_pic",attrs:{src:a("9a34")}}),r("div",{staticClass:"content_intro"},[s._v("我准备了一篇文章，来告诉您是如何打造这个地方的")]),r("div",{staticClass:"content_intro intro--gray"},[s._v(" 您可以阅读我的文档，了解这个地方是如何构建起来的，同时又是怎么运作的，并且我将提供源码作为参考 ")]),r("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:s.toHow}},[s._v("如何打造这个博客")])])])},S=[function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",{staticClass:"logo"},[r("img",{staticClass:"logo_pic",attrs:{src:a("f119")}})])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"title"},[a("h1",[s._v("七元")]),a("div",{staticClass:"title_detail"},[s._v("一个简约和高效的记事BLOG")])])},function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",{staticClass:"intro_block"},[r("img",{staticClass:"intro_pic",attrs:{src:a("7fe5")}}),r("h4",[s._v("轻便")]),r("div",{staticClass:"intro_content"},[s._v("轻便不繁重，减少多余")])])},function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",{staticClass:"intro_block"},[r("img",{staticClass:"intro_pic",attrs:{src:a("9be9")}}),r("h4",[s._v("简约")]),r("div",{staticClass:"intro_content"},[s._v("简约不繁杂，方便寻找")])])},function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",{staticClass:"intro_block"},[r("img",{staticClass:"intro_pic",attrs:{src:a("562b")}}),r("h4",[s._v("高效")]),r("div",{staticClass:"intro_content"},[s._v("高效记录，即开即看")])])},function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleSlidesOnly","data-ride":"carousel"}},[r("div",{staticClass:"carousel-inner"},[r("div",{staticClass:"carousel-item active",attrs:{"data-interval":"2000"}},[r("div",{staticClass:"intro_block"},[r("img",{staticClass:"intro_pic",attrs:{src:a("7fe5")}}),r("h4",[s._v("轻便")]),r("div",{staticClass:"intro_content"},[s._v("轻便不繁重，减少多余")])])]),r("div",{staticClass:"carousel-item",attrs:{"data-interval":"2000"}},[r("div",{staticClass:"intro_block"},[r("img",{staticClass:"intro_pic",attrs:{src:a("9be9")}}),r("h4",[s._v("简约")]),r("div",{staticClass:"intro_content"},[s._v("简约不繁杂，方便寻找")])])]),r("div",{staticClass:"carousel-item",attrs:{"data-interval":"2000"}},[r("div",{staticClass:"intro_block"},[r("img",{staticClass:"intro_pic",attrs:{src:a("562b")}}),r("h4",[s._v("高效")]),r("div",{staticClass:"intro_content"},[s._v("高效记录，即开即看")])])])])])},function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",{staticClass:"home_content content--white"},[r("div",{staticClass:"content_title"},[s._v("这里有什么优势?")]),r("img",{staticClass:"content_pic",attrs:{src:a("5405")}}),r("div",{staticClass:"content_intro"},[s._v("你可以在任何一个端访问这个地方")]),r("div",{staticClass:"content_intro intro--gray"},[s._v(" 在这已经做了自适应配置，任何用户以任何端都可以随时随地查看 ")])])}],$={name:"Home",components:{NavBar:u},data:function(){return{bannerSet:["1","2","3","4"],listener:"",isOverPad:!0}},methods:{getBanner:function(){return this.bannerSet[Math.floor(Math.random()*this.bannerSet.length)]},getWindowWidth:function(){var s=window.screen.width;this.isOverPad=s>760},toEssayLists:function(){this.$router.push("/EssayLists")},toHow:function(){var s,t,a=v["default"].getFiles(),r=Object(c["a"])(a.keys());try{for(r.s();!(t=r.n()).done;){var e=t.value;if(e.indexOf("七元")>-1){this.$router.push({name:"Essay",params:{fileName:s,filePath:e}});break}}}catch(n){r.e(n)}finally{r.f()}}},mounted:function(){this.$store.commit("setActive","0")},created:function(){this.getWindowWidth()}},O=$,V=(a("9034"),Object(o["a"])(O,E,S,!1,null,"2fa274d8",null)),L=V.exports,B=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"Essay"},[a("div",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"markdown-body"},[a(s.path,{tag:"component"})],1)])},q=[],N=(a("e4cb"),{name:"Essay",components:{},data:function(){return{path:null}},methods:{getMarkDownFile:function(){this.path=v["default"].getComponent(this.$route.params.filePath)}},mounted:function(){this.$store.commit("setActive","1"),this.getMarkDownFile()}}),P=N,J=(a("a6bf"),Object(o["a"])(P,B,q,!1,null,"207faea4",null)),A=J.exports,H=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"EssayLists"},[a("menu-lists",{attrs:{cateLists:s.cateLists},on:{getEssayLists:s.getEssayLists}})],1)},M=[],F=(a("baa5"),a("b0c0"),a("1148"),function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"Menu"},s._l(s.cateLists,(function(t,r){return a("div",{key:r,on:{click:function(a){return a.stopPropagation(),s.getEssayLists(t.name,r)}}},[a("Collapse",{attrs:{categoryName:t.name}},[a("div",{attrs:{slot:"slot_content"},slot:"slot_content"},[a("div",{staticClass:"cate_content"},[a("div",{staticClass:"list-group"},s._l(t.filesLists,(function(t,r){return a("a",{key:r,staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript:void(0)"},on:{click:function(a){return s.toEssay(t.fileName,t.filePath)}}},[s._v(s._s(t.fileName))])})),0)]),t.item.length>0?a("div",[a("menu-lists",{attrs:{cateLists:t.item}})],1):s._e()])])],1)})),0)}),D=[],T=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{ref:"block",staticClass:"category_block",on:{click:function(t){return s.clickCollapse(t)}}},[a("div",{staticClass:"cate_title",attrs:{id:"cate_title"}},[s._v(" ➡️ "+s._s(s.categoryName)+" ")]),s.showContent?a("div",{ref:"block_content",staticClass:"slot"},[s._t("slot_content")],2):s._e()])},I=[],R={name:"Collapse",props:["categoryName"],data:function(){return{initHeight:0,showContent:!1,father_dom:null}},methods:{getInitHeight:function(){var s=this.$refs.block;this.initHeight=s.clientHeight,s.style.height=this.initHeight+"px",this.father_dom=s},clickCollapse:function(s){var t=this,a=s.currentTarget.getElementsByClassName("cate_title")[0];s.currentTarget!==s.target&&a!==s.target||(this.showContent=!this.showContent,this.$nextTick((function(){var a=t.$refs.block_content,r=s.currentTarget;setTimeout((function(){r.style.height=t.showContent?a.clientHeight+t.initHeight+"px":t.initHeight+"px"}),0)})))}},mounted:function(){this.getInitHeight()}},z=R,U=(a("ef02"),Object(o["a"])(z,T,I,!1,null,"595fccec",null)),W=U.exports,G={name:"MenuLists",components:{Collapse:W},props:{cateLists:{type:Array}},methods:{toEssay:function(s,t){this.$router.push({name:"Essay",params:{fileName:s,filePath:t}})},getEssayLists:function(s,t){this.$emit("getEssayLists",s,t)}}},Y=G,K=(a("000d"),Object(o["a"])(Y,F,D,!1,null,"638d35e4",null)),Q=K.exports,X={name:"EssayLists",components:{Collapse:W,MenuLists:Q},data:function(){return{cateLists:[]}},methods:{getEssayLists:function(s,t){if(this.cateLists[t].filesLists.length>0)return!1;console.log("请求目录下文件");var a=v["default"].getFiles(),r=a.keys();for(var e in r){var n=r[e].lastIndexOf("/"),l=r[e].indexOf("/"),p=r[e].substring(l+1,n);if(p===s)for(var c in this.cateLists)if(this.cateLists[c].name===s){var _=r[e].substring(n+1,r[e].length-3),i={fileName:_,filePath:r[e]};this.cateLists[c].filesLists.push(i)}}},getCategory:function(){var s=v["default"].getCategory();this.addFilesLists(s),this.cateLists=s},addFilesLists:function(s){var t,a=Object(c["a"])(s);try{for(a.s();!(t=a.n()).done;){var r=t.value;r.filesLists=[],r.item.length>0&&this.addFilesLists(r.item)}}catch(e){a.e(e)}finally{a.f()}}},mounted:function(){this.getCategory()}},Z=X,ss=(a("b5c2"),Object(o["a"])(Z,H,M,!1,null,"be3e4c22",null)),ts=ss.exports,as=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"SearchLists"},[s.match_files.length>0?a("div",{staticClass:"list-group"},s._l(s.match_files,(function(t,r){return a("a",{key:r,staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript:void(0)"},on:{click:function(a){return s.toEssay(t.fileName,t.filePath)}}},[a("span",{domProps:{innerHTML:s._s(t.fileHighLight)}})])})),0):a("div",{staticClass:"no_content"},[s._v(" 暂无内容~ ")])])},rs=[],es=(a("ac1f"),a("1276"),{name:"SearchLists",data:function(){return{searchValue:"",match_files:[]}},methods:{getEssayBySerach:function(){if(!this.searchValue)return alert("请输入内容！"),!1;this.match_files=[];var s,t=v["default"].getFiles().keys(),a=Object(c["a"])(t);try{for(a.s();!(s=a.n()).done;){var r=s.value;if(-1!==r.lastIndexOf(this.searchValue)){var e=r.split("/");if(-1!==e[e.length-1].indexOf(this.searchValue)){var n=e[e.length-1],l=e[e.length-1].substring(0,n.length-3),p=this.setHighLight(l,this.searchValue),_={fileName:l,filePath:r,fileHighLight:p};this.match_files.push(_)}}}}catch(i){a.e(i)}finally{a.f()}},toEssay:function(s,t){this.$router.push({name:"Essay",params:{fileName:s,filePath:t}})},setHighLight:function(s,t){if(s&&""!==s){var a=0,r=t.length,e=s.length,n='<span style="color:#dd4b39">'.concat(t,"</span>"),l="";while(a<=e){var p=s.indexOf(t);if(!(p>-1)){l+=s;break}var c=s.substring(0,p);l+=c+n,a=p+r,s=s.substr(a,e)}return l}}},mounted:function(){this.searchValue=this.$route.query.searchValue,this.getEssayBySerach()},watch:{$route:{handler:function(s,t){s.query.searchValue!==this.searchValue&&(this.searchValue=s.query.searchValue,this.getEssayBySerach())}}}}),ns=es,ls=(a("1662"),Object(o["a"])(ns,as,rs,!1,null,"e0c9d020",null)),ps=ls.exports;r["a"].use(C["a"]);var cs=C["a"].prototype.push;C["a"].prototype.push=function(s){return cs.call(this,s).catch((function(s){return s}))};var vs=[{path:"/",name:"Home",component:L},{path:"/Essay",name:"Essay",component:A},{path:"/EssayLists",name:"EssayLists",component:ts},{path:"/SearchLists",name:"SearchLists",component:ps}],_s=new C["a"]({mode:"history",base:"/",routes:vs}),is=_s,os=a("2f62");r["a"].use(os["a"]);var hs=new os["a"].Store({state:{active:"0"},mutations:{setActive:function(s,t){this.state.active=t}},actions:{},modules:{}}),us=a("9483");Object(us["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(s){console.error("Error during service worker registration:",s)}});var js=a("1487"),ms=a.n(js),ds=(a("0dbe"),{install:function(s){s.directive("highlight",{inserted:function(s){for(var t=s.querySelectorAll("pre code"),a=0;a<t.length;a++)ms.a.highlightBlock(t[a]),t[a].parentNode.style.backgroundColor="#fffae7"},componentUpdated:function(s){for(var t=s.querySelectorAll("pre code"),a=0;a<t.length;a++)ms.a.highlightBlock(t[a]),t[a].parentNode.style.backgroundColor="#fffae7"}})}}),fs=ds;r["a"].config.productionTip=!1,r["a"].use(fs),is.afterEach((function(s,t,a){window.scrollTo(0,0)})),new r["a"]({router:is,store:hs,render:function(s){return s(x)}}).$mount("#app")},"5c0b":function(s,t,a){"use strict";a("9c0c")},7311:function(s,t,a){s.exports=a.p+"img/making_code2.b54f2a87.png"},"7dd8":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("输入URL到页面渲染的一个过程")]),a("h3",[s._v("1.输入URL")]),a("p",[s._v("用户在地址栏输入URL之后，客户端会对服务器进行一个URL请求，服务端接受到请求之后，会进行http或者https的一个通信，通信成功之后就代表客户端和服务端建立了一个相互交互的渠道。")]),a("h3",[s._v("2.进行页面的渲染")]),a("ul",[a("li",[s._v("解析头部文件，遇到对应的JS或者CSS文件就会开始进行下载")]),a("li",[s._v("构建DOM树，浏览器开始解析DOM文件，开始构建DOM树结构，如"),a("body",[s._v("、"),a("div",[s._v("等，同时等待CSS文件的下载")])])]),a("li",[s._v("利用下载好的CSS文件和DOM结构，形成CSSOM（就是利用CSS渲染DOM）")])]),a("blockquote",[a("p",[s._v("此处会有一个问题，就是浏览器的页面渲染是有阻塞的，如果CSS、JavaScript文件较为复杂或者庞大，那么浏览器会先下载完文件，执行完脚本文件之后再继续渲染DOM结构")])]),a("ul",[a("li",[s._v("根据DOM、CSSOM，开始样式计算")]),a("li",[s._v("进行页面的布局")]),a("li",[s._v("...继续渲染，如果遇到图片先下载图片然后渲染后面的结构，图片下载完成之后再回来渲染这个节点")]),a("li",[s._v("执行完毕，onload页面")])])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},"7fe5":function(s,t,a){s.exports=a.p+"img/clip.ad7aa79e.svg"},"894f":function(s,t){document.querySelector("ul").addEventListener("click",(function(s){s.target.tagName}))},9034:function(s,t,a){"use strict";a("cf76")},"90c4":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("Vue 嵌套通信进阶-$attrs、$listeners")]),a("p",[s._v("vue开发中的父子组件通信的时候，通常都会使用props、$emit等方法进行上下数据通信，但是如果嵌套的层数比较多，那么会导致通信复杂且不易于维护，一旦中间组件或者父组件发生了变化，最后面的子组件都要进行修改，不易于代码的维护。 vue官方文档中，在新版本中推出了$attrs和$listeners这两个api，其目的就是为了解决嵌套通信复杂的问题。")]),a("p",[s._v("假设在一个嵌套的组件中（最外层父组件A，嵌套子组件B，子组件B中嵌套组件C） "),a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2020/png/1416330/1602661720862-a25fec56-521e-4f51-b12d-54d36ebc2eb1.png",alt:""}}),s._v("如果按照正常的父子组件通信，那么C组件想要获得父组件A的数据等属性，那么A组件的数据需要传给B，然后B组件再次传给C。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("//下面代码简化，省略vdata、props等参数\n\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n//这里是A组件\n//然后往B组件传值\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("B")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":A_data")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"A_data"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("B")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  //这里是B组件\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("C")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":B_data")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"A_data"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("C")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  //这里是C组件\n  {{this.B_data}}\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n")])]),a("p",[s._v("由上可知，一旦其中的B组件发生变化或者需要进行修改，那么C组件就会受到影响")]),a("p",[s._v("但是如果在B组件中引入的C组件加上$attrs、$listerens就不一样了")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  //这里是B组件\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("C")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-bind")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$attrs"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-on")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$listerens"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("C")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n")])]),a("p",[s._v("如上，那么C组件无需B组件传值便可直接访问到A组件的属性和数据")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("<script>\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(": { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("A_data")]),s._v(": { "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("String")]),s._v(" } },\n  created() {\n    "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".A_data);  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 在组件A中传递过来的属性")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".info("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$attrs, "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$listeners);\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n    hInput() {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"changeMyData"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".myc); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 在组件A中传递过来的事件")]),s._v("\n      \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 直接在A组件引入的B组件上@changeMyData即可")]),s._v("\n    }\n  }\n};\n<"),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/script>\n")])])])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},"92ee":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("Vue项目性能加载优化")]),a("p",[s._v("在Vue开发中，通常是开发完之后进行项目的打包，打包的文件有：vendor.js、app.js、app.css等，但是如果vendor体积过大的话，将会拖慢网页加载的速度，特别是首屏加载的速度问题特别明显（也有可能是导致首页白屏的一个原因）。")]),a("h3",[s._v("减少Vendor体积")]),a("p",[s._v("所以为了解决这个问题，我们将需要减少vendor文件的体积大小。")]),a("p",[s._v("在webpack.base.conf.js新增externals配置，表示不需要打包的文件，然后在index.html中通过CDN引入。")]),a("blockquote",[a("p",[s._v("意思就是设置好的externals里面的内容，是以外部引入的方式加载，而不是打包到vendor.js")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("externals: {\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vue"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Vue"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vue-router"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"VueRouter"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vuex"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Vuex"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"element-ui"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"ELEMENT"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"BMap"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"BMap"')]),s._v("\n  }\n")])]),a("blockquote",[a("p",[s._v("同时也有另外一个方案，因为vue项目打包之后会生成.map文件，如果将webpack里面的productionSourceMap属性设置为false就可以不生成.map文件。")])]),a("p",[s._v("设置完成之后，将main.js等文件中的import取消掉，但是还是要保留Vue.use等字段")]),a("hr"),a("h3",[s._v("路由懒加载")]),a("p",[s._v("另外一种方法就是路由的懒加载，在首页加载的时候减少不必要的路由加载，只需要加载目前需要的路由即可。")]),a("p",[s._v("在路由文件中，取消掉import引入，使用如下方式加载")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("component:"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("resolve")]),s._v(") =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("(["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/pages/home'")]),s._v("],resolve);\n")])]),a("hr"),a("h3",[s._v("页面内容懒加载")]),a("p",[s._v("如果页面的内容或者请求的接口较多，可以参考我之前写的页面滚动懒加载接口，结合这个来进行针对页面的接口请求优化，较少页面加载时请求的接口数，加快页面的渲染。")]),a("p",[s._v("同时如果页面的图片较多，也可以使用图片懒加载的方式，来减少页面渲染时的压力，加快页面渲染的速度。")]),a("hr"),a("h3",[s._v("SSR（服务端渲染）")]),a("p",[s._v("为了首页的加载速度加快，可以考虑将首页的html等片段放在服务端中提前渲染，也是使用到了SSR技术，这样的话服务端能提前将首页的内容渲染好直接发送至前端中。")]),a("hr"),a("h3",[s._v("资源加载")]),a("p",[s._v("如果是第三方的资源，可以使用cdn加载方式来加载，或者将第三方资源放置服务器中，线上的项目直接本地引用即可，就没有必要使用项目文件来直接加载第三方的资源文件，减少加载请求。")]),a("hr"),a("h3",[s._v("用户体验")]),a("p",[s._v("在用户体验上这一块，可以使用loading、骨架屏等方式，先提前渲染页面的架构，等待接口数据的返回和渲染完成即可，但是加载的时间不宜超过5s以上。")])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},"9a34":function(s,t,a){s.exports=a.p+"img/05-编码.0f6e0a0d.svg"},"9bd0":function(s,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return e}));var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("事件委托（事件代理）")]),a("p",[s._v("JavaScript高级程序设计上讲：事件委托就是利用事件冒泡，只指定一个事件处理程序，就可以管理某一类型的所有事件。"),a("br"),a("br"),s._v("为什么要用事件委托？"),a("br"),s._v("因为可能在JavaScript开发中，需要遍历渲染数据的时候，可能需要对渲染的数据添加点击事件。如果数据存在多条，那么按照上述情况就要对每一个数据都要添加一个点击事件，那样会照成性能和其他问题。所以我们可以使用冒泡机制，即“事件委托”来实现多个子元素的一个绑定事件。")]),a("blockquote",[a("p",[s._v("在JavaScript中，添加到页面上的事件处理程序数量将直接关系到页面的整体运行性能，因为需要不断的与dom节点进行交互，访问dom的次数越多，引起浏览器重绘与重排的次数也就越多，就会延长整个页面的交互就绪时间，这就是为什么性能优化的主要思想之一就是减少DOM操作的原因；如果要用事件委托，就会将所有的操作放到js程序里面，与dom的操作就只需要交互一次，这样就能大大的减少与dom的交互次数，提高性能")])]),a("p",[a("br"),s._v("具体实现如下：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("1111111111111"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("2222222222222"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("3333333333333"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("44444444444"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n\n\t//可以根据e.target所拿到子元素冒泡的内容 如e.target.id \\ e.target.name等等\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"javascript"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'ul'")]),s._v(").addEventListener("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'click'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("e")]),s._v(") ")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (e.target.tagName === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'LI'")]),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ...")]),s._v("\n      }\n    })\n  ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])}]},"9be9":function(s,t,a){s.exports=a.p+"img/eye.5348cf4a.svg"},"9c0c":function(s,t,a){},"9e8d":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("section",[r("h1",[s._v("关于“七元”是如何开发的")]),r("p",[s._v("目前网上已经有很多博客建站的框架可供选择，无论是一键建站还是使用一些较为完善的框架。 前端这边之前较为流行的框架有Hexo、gitbook等，最近看到一个vuepress框架，在vue基础上开发的一个基于静态驱动的博客框架。后面上手试了一下，vuepress可以纯靠简单的配置来搭建一个较为完善的博客网站，同时还能介于vue打包之后发布到gitpage上当线上静态博客。 在一番“观察”之后，我觉得可以写一个类似vuepress框架，纯靠配置且前端自动化的一个博客网站，所以就诞生了“七元”。 我将在这个文档介绍一下，我是如何搭建这个博客，且怎么让工程自动化的。")]),r("blockquote",[r("p",[s._v("网站的整体框架是基于vue开发，同时为了确保轻量、快速，我将不用Element等大型UI框架，改用CDN在线加载Bootstrap样式文件，所以网站的重点在Vue和Markdown上。")])]),r("hr"),r("p",[s._v("首先先创建一个简单的vue项目，尽量只使用能用到的东西即可（Scss、Vuex、Router等），创建完成之后我们就按照正常的vue项目开发即可。 目前我们项目的主要目录结构如下（经过筛选）： |-- src |-- App.vue |-- main.js |-- components | |-- FootBar.vue | |-- NavBar.vue |-- docs（重要） | |-- JavaScript柯里化函数.md | |-- Vue项目性能加载优化.md | |-- config.js |-- router | |-- index.js |-- store（创建项目时可选） | |-- index.js |-- util | |-- highlight.js |-- views |-- Essay.vue |-- EssayLists.vue |-- Home.vue")]),r("p",[s._v("和vuepress官方文档上面说的一样：“约定优于配置”，这边也是推荐你使用这样的目录结构，同时docs文件夹内是存放md文件的，只要项目做好自动化配置，你甚至不用打开代码，只需往docs文件夹里面存放文件然后部署即可。")]),r("p",[s._v("在了解完目录结构之后，我们首先需要知道，单纯的前端是还不能够直接解析markdown文件的，所以我们需要npm install 一个控件，添加前端对markdown文档的一个解析依赖。")]),r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-shell"}},[s._v("npm install vue-markdown-loader -D\n")])]),r("p",[s._v("安装了markdown-loader之后，我们需要在vue.config配置文件（如果没有的话可以在根目录手动创建一份文件）里面添加依赖")]),r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("chainWebpack: "),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("config")]),s._v(" =>")]),s._v(" {\n        config.module.rule("),r("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'md'")]),s._v(")\n            .test("),r("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\.md/")]),s._v(")\n            .use("),r("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-loader'")]),s._v(")\n            .loader("),r("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-loader'")]),s._v(")\n            .end()\n            .use("),r("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-markdown-loader'")]),s._v(")\n            .loader("),r("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-markdown-loader/lib/markdown-compiler'")]),s._v(")\n            .options({\n                "),r("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("raw")]),s._v(": "),r("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n            })\n    }\n")])]),r("p",[s._v("我们可以先在一个页面上测试一下，项目是否能正常读取markdown文件")]),r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//导入一篇markdown文件")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" MarkDownEssay "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/docs/xxxx.md'")]),s._v("\n\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//在index.js中components引入")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v("{\n\t"),r("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(": {MarkDownEssay},\n}\n\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//在页面上引入即可")]),s._v("\n<template>\n  "),r("span",{pre:!0,attrs:{class:"xml"}},[r("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),r("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("mark-down-essay")]),s._v("/>")])]),s._v("\n<"),r("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/template>\n")])])]),r("p",[s._v("就上面的步骤之后，便可正常加载一边markdown文件 添加上自适应css类，在组件外面包裹一层类即可")]),r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-css"}},[r("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".markdown-body")]),s._v(" {\n    "),r("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("box-sizing")]),s._v(": border-box;\n    "),r("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("min-width")]),s._v(": "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200px")]),s._v(";\n    "),r("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("max-width")]),s._v(": "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("980px")]),s._v(";\n    "),r("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" auto;\n    "),r("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("45px")]),s._v(";\n\t}\n")])]),r("p",[s._v("但是我们会发现这个markdown和我们正常能看到的markdown文件样式不太一样，那么我们需要添加一个高亮处理的js")]),r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-shell"}},[s._v("npm install highlight.js\n")])]),r("p",[s._v("然后再util目录下新建一个highlight.js文件")]),r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// highlight.js  代码高亮指令")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" Hljs "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'highlight.js'")]),s._v(";\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'highlight.js/styles/tomorrow-night.css'")]),s._v("; "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 代码高亮风格，选择更多风格需导入 node_modules/hightlight.js/styles/ 目录下其它css文件")]),s._v("\n\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" Highlight = {};\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 自定义插件")]),s._v("\nHighlight.install = "),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),r("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("Vue")]),s._v(") ")]),s._v("{\n\t"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 自定义指令 v-highlight")]),s._v("\n\tVue.directive("),r("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'highlight'")]),s._v(", {\n\t\t"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 被绑定元素插入父节点时调用")]),s._v("\n\t\t"),r("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inserted")]),s._v(": "),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),r("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("el")]),s._v(") ")]),s._v("{\n\t\t\t"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" blocks = el.querySelectorAll("),r("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pre code'")]),s._v(");\n\t\t\t"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" ("),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" i = "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i < blocks.length; i++) {\n\t\t\t\tHljs.highlightBlock(blocks[i]);\n\t\t\t}\n\t\t},\n\t\t"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 指令所在组件的 VNode 及其子 VNode 全部更新后调用")]),s._v("\n\t\t"),r("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("componentUpdated")]),s._v(": "),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),r("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("el")]),s._v(") ")]),s._v("{\n\t\t\t"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" blocks = el.querySelectorAll("),r("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pre code'")]),s._v(");\n\t\t\t"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" ("),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" i = "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("; i < blocks.length; i++) {\n\t\t\t\tHljs.highlightBlock(blocks[i]);\n\t\t\t}\n\t\t}\n\t})\n};\n\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" Highlight;\n\n")])]),r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//main.js")]),s._v("\n\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" Highlight "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./util/highlight'")]),s._v("\n\nVue.use(Highlight);\n")])]),r("p",[s._v("在vue文件下使用即可，那么我们就能看到一个正常的markdown文件了")]),r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[r("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),r("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("mark-down-essay")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-highlight")]),s._v("/>")]),s._v("\n")])]),r("hr"),r("p",[s._v("在上面的目录结构中，我们知道了只要在docs文件夹中新建目录，往新建的目录文件夹中添加自己的md文件，最后在category.js中配置一下目录结构即可让项目在页面中自动生成目录结构和文章列表内容。")]),r("p",[s._v('那我们如何只添加文件，使工程自动化？就要了解一下 "require.context" 。')]),r("p",[s._v("在config.js文件中可以看到，我写了3个公共的方法 "),r("img",{attrs:{src:a("2557")}})]),r("p",[s._v("其中“getFiles”方法中，使用require.context来获取config.js同目录下的所有.md文件")]),r("blockquote",[r("p",[s._v("针对require.context的内容可以参考一下MDN的官方说明 其中需要传入的3个参数含义如下")]),r("ul",[r("li",[s._v("要搜索的文件夹目录")]),r("li",[s._v("是否搜索文件夹其子文件夹内容（即子目录）")]),r("li",[s._v("匹配文件的正则表达式")])])]),r("p",[s._v("方法获取到files内容之后，还并不是一个具体的文件数组信息，require.context只是返回一个文件函数 "),r("img",{attrs:{src:a("7311")}})]),r("p",[s._v("则获取具体的内容也有相关的3个参数：")]),r("ul",[r("li",[r("p",[s._v("resolve 匹配具体文件，返回这个文件相对工程的相对路径")])]),r("li",[r("p",[s._v("keys 返回匹配成功的文件名字（数组Array）")])]),r("li",[r("p",[s._v("执行环境的id,返回的是一个字符串")])])]),r("img",{attrs:{src:a("33d8")}}),r("img",{attrs:{src:a("18f2")}}),r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" files = "),r("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v(".context("),r("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./'")]),s._v(", "),r("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", /\\.md$/);\n\n"),r("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(files.keys()); "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//返回文件内容Array")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(files.resolve(files.keys()["),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("])); "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//返回第一份文件的相对路径")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(files.id); "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//返回相对应的id字符串")]),s._v("\n")])]),r("p",[s._v("运用了require.context来获取相对应的文件具体信息之后，这边使用每个文件的相对路径，来匹配目录名字，看这份文件是对应的哪个目录下，那我们将文件储存于Vue代码中的目录对象中即可。")]),r("p",[s._v("最后我们在文章组件中，使用“getComponent”方法获取到点击的文件相对于的.md文件组件，结合markdown插件便可以直接显示在页面上。 "),r("img",{attrs:{src:a("4b95")}})]),r("hr"),r("h2",[s._v("🎉 写在最后 🎉")]),r("p",[s._v("因为整个项目追求的是轻便、简介，所以并没有使用其他的UI框架，基本上是能自己写出来的就直接自己写；减少使用多余的JS插件，也是为了加快项目的打包，加快网站的加载加快用户的访问速度。")]),r("p",[s._v("目前“七元”在开发过程中，还是遇到了不少的困难。😭")]),r("p",[s._v("项目初期开发的时候，一直在想着怎么能让工程自动化，因为也是参考的Vue-Press来做，所以想着尽量减少操作代码来实现，所以才用上了require.context，目前只要不添加新的目录，只需要在电脑文件夹中往原有目录文件夹丢放文件，项目即可自动识别、加载，同时点击deploy.sh一键打包+部署。🎉")]),r("p",[s._v("可能你会有疑问，在docs/category.js文件中，已经写了子目录的相关代码，但是为什么没有子目录出来呢？🧐🧐🧐 其实这边本来是做了子目录的相关配置了，也想着后期逐渐完善子目录的配置化，但是在文章列表页中，collapse组件是我自己写的，存在一个问题就是如果配置了子目录，那么点开的时候，最外层的一个折叠层没有自适应高度。如果不需要折叠动画的话，让高度自适应就可以解决这个问题了，但是我想兼容动画所以一直在想最好的解决方案。😙😙😙")]),r("p",[s._v("🤩如果你喜欢我的这个项目，又或者你对我的项目有什么建议的话，都可以在我的项目github上面star一下和提出issue来让我知道！🥳")]),r("blockquote",[r("p",[s._v("如果你喜欢，赞助一杯咖啡吧 呜呜呜😭😭")]),r("p",[s._v("AliPay："),r("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:a("3780")}}),s._v(" WeChat："),r("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:a("cb2b")}})])])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},a47c:function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("JavaScript性能优化篇")]),a("h3",[s._v("闭包的性能优化")]),a("p",[s._v("所谓闭包，即在一个functionA内定义了另外一个functionB，然后functionB内执行完的值return回functionA，那么functionB即为一个闭包，这个闭包functionB将会一直存在functionA中不会清除。 换一种说法，既是"),a("strong",[s._v("函数a的内部函数b被函数a外的一个变量引用的时候，就创建了一个闭包")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("a")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" i = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n  \n  "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("B")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n  \t"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(++i);\n  }\n  \n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" B();\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" c = a();  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//c变量调用了A函数内的B函数")]),s._v("\n")])]),a("blockquote",[a("p",[s._v("这里清楚机制涉及到了JavaScript的垃圾回收机制 虽然像V8等优化后的JavaScript引擎会尝试回收闭包内的内存，但还是要谨慎使用")])]),a("p",[s._v("所以建议还是减少使用闭包，要不然会导致网页性能的下降，因为闭包内变量内存一直存在。 例如下面的函数（柯里化函数，可参考另外一篇文章"),a("a",{attrs:{href:"https://www.yuque.com/u1169848/iw662u/gch552"}},[s._v("柯里化函数（Sev3n元）")]),s._v("）")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("add")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("x")]),s._v(") ")]),s._v("{\n\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("y")]),s._v(") ")]),s._v("{\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" x + y\n\t\t\t}\n\t\t}\n\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" add5 = add("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(");\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" add10 = add("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(");\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(add5("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("));\n\t\t"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(add10("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("));\n")])]),a("p",[s._v("释放对闭包的使用 add5 = null ; add10 = null; 什么情况下会引起内存泄露：")]),a("ul",[a("li",[s._v("意外的全局变量")]),a("li",[s._v("闭包函数引起的内存泄露")]),a("li",[s._v("没有清理的dom元素引用")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//未优化的函数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("assignHandler")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" element = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementById("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"someElement"')]),s._v("); \n  element.onclick = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n  \talert(element.id);\n  }\n}\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//优化后的函数（回收机制）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("assignHandler")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" element = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementById("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"someElement"')]),s._v("); \n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" id = element.id;\n  element.onclick = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n\t\t\talert(id);\n\t\t};\n  element = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(";\n}\n")])]),a("ul",[a("li",[s._v("被遗忘的定时器或者回调")]),a("li",[s._v("子元素存在引用")])]),a("p",[s._v("不过在新的JavaScript执行机制中，系统会自动进行垃圾回收，回收那些已经没有再进行调用的函数或者变量。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("checkscope")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" scope = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"local scope"')]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("f")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" scope;\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" f;\n}\n\ncheckscope()();  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//执行完之后，系统回直接进行垃圾回收f()中引用的scope变量")]),s._v("\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("checkscope")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" scope = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"local scope"')]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("f")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" scope;\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" f;\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" foo = checkscope(); \nfoo(); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//执行完之后，因为还存在foo变量，所以系统不会对f()中引用的scope变量执行垃圾回收")]),s._v("\n")])]),a("h3",[s._v("事件优化")]),a("p",[s._v("在js、vue开发中，我们可能会用到定时器、循环和监听等，这些事件是不会自己销毁的（vue组件销毁的时候也会销毁事件，但如果在不销毁组件的情况下是不会自动销毁事件的），如果不进行销毁的话，如同上面所说，会照成内存泄露等问题。 所以一般在组件内进行手动销毁来进行性能的优化。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("removeEventListener("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'click'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".click, "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//js销毁监听事件")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" timer = setTimeout({},"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1000")]),s._v(");\ntimer = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//时间器的销毁;")]),s._v("\n")])]),a("h3",[s._v("事件代理")]),a("p",[s._v("JavaScript开发中，如果子dom节点是动态生成（如vue的v-for循环生成或者js的append生成）并且每一个子节点都需要添加事件处理，建议将事件添加到父节点上面。（当然是建议在子节点数据、dom节点基本一致的情况下）")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("<ul id="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"ul"')]),s._v(">\n  "),a("span",{pre:!0,attrs:{class:"xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("1"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("2"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("3"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("4"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("5"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")])]),s._v("\n<"),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/ul>\n<script>\n  let ul = document.querySelector('##ul')\n  ul.addEventListener('click', event => {\n    console.log(event.target)\n  })\n</")]),s._v("script>\n")])]),a("p",[s._v("这样做的好处是 1.节省内存 2.不需要给子节点注销事件")])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},a6bf:function(s,t,a){"use strict";a("1702")},a85d:function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("CSS-更改浏览器内置滚动条样式")]),a("p",[s._v("滚动条的样式一般都是随着浏览器而生成的，不同的浏览器可以产生不同的滚动条样式 不过前端可以修改滚动条的样式")]),a("p",[s._v("滚动条的样式类： "),a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2020/png/1416330/1604477254489-cbdfe0a7-f9c1-4f1c-a1de-29421baa5caa.png#align=left&display=inline&height=257&margin=%5Bobject%20Object%5D&name=image.png&originHeight=443&originWidth=700&size=225294&status=done&style=none&width=406",alt:"image.png"}}),s._v(" 滚动条的样式调整：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v("1. ::-webkit-scrollbar                滚动条整体部分\n2. ::-webkit-scrollbar-thumb          滚动条里面的小方块，能向上向下移动（或向左向右移动）\n3. ::-webkit-scrollbar-track          滚动条的轨道（里面装有Thumb）\n4. ::-webkit-scrollbar-button         滚动条的轨道的两端按钮，由于通过点击微调小方块的位置。\n5. ::-webkit-scrollbar-track-piece    内层轨道，滚动条中间部分\n6. ::-webkit-scrollbar-corner         边角，即垂直滚动条和水平滚动条相交的地方\n7. ::-webkit-resizer                  两个滚动条的交汇处上用于拖动调整元素大小的小控件\n")])]),a("blockquote",[a("p",[s._v("一般在内容区域使用，如.content::-webkit-scrollbar即可")])])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},b010:function(s,t,a){"use strict";a("cf3c")},b5c2:function(s,t,a){"use strict";a("f871")},b638:function(s,t,a){"use strict";a.r(t);var r=a("1148"),e={getFiles:function(){var s=a("3f22");return s},getCategory:function(){return r["default"]},getComponent:function(s){var t=a("3aed")("".concat(s));return t.default||t}};t["default"]=e},bb5b:function(s,t,a){},cb2b:function(s,t,a){s.exports=a.p+"img/WechatPay.00f3fe93.jpg"},cb68:function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("Vue路由拦截器")]),a("p",[s._v("vue拦截器写在router.js内")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/textDialog'")]),s._v(",  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//弹窗测试页面")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(": textDialog,\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'textDialog'")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("meta")]),s._v(": {\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("title")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'弹窗测试页面'")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("requireAuth")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n            }\n },\n")])]),a("p",[s._v("上述路由添加了一个meta、requireAuth参数"),a("br"),s._v("然后在下述代码中判断路由跳转是否含有这个参数")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//拦截器")]),s._v("\nrouter.beforeEach("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("to, "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(", next")]),s._v(") =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//路由中写了requireAuth是需要登录验证的路由")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (to.matched.some("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("record")]),s._v(" =>")]),s._v(" record.meta.requireAuth)) {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" userPapaerCode = store.state.myCard;\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//未登录，身份证为空")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (userPapaerCode == "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(") {\n            next({"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/inputID'")]),s._v("})\n        } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n            next(); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//有登录，可以通过")]),s._v("\n        }\n    } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n        next(); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//没有配置参数，无需过滤")]),s._v("\n    }\n});\n")])])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},cc3b:function(s,t,a){},cf3c:function(s,t,a){},cf76:function(s,t,a){},d6b7:function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("记录用户离开的页面位置，返回页面重新复位")]),a("p",[s._v("在路由跳转之前编写方法")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("beforeRouteLeave(to, "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(", next) {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" className = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementsByClassName("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'el-main'")]),s._v(")\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//兼容性记录高度")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" scrollTop = className["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].pageYOffset || className["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].scrollTop || className["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].scrollTop\n      sessionStorge.setItem("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'POSITION'")]),s._v(", scrollTop)\n      next()\n    },\n")])]),a("p",[s._v("获取用户所浏览的位置"),a("br"),s._v("返回该页面时，重新获取这个位置")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" className = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementsByClassName("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'el-main'")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$nextTick("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" pos = sessionStorge.getItem("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'POSITION'")]),s._v(")\n    className["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("].scrollTop = pos\n    })\n")])])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},eafa:function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("Fetch请求api-前后端分离")]),a("p",[s._v("Fetch请求后端接口，无需其他的库，也是vue官方推荐"),a("br"),s._v("普通Fetch请求")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("fetch（url，{parmas}）.then("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("res")]),s._v("=>")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" res.json()  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//返回promise对象")]),s._v("\n ).then("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("data")]),s._v("=>")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" data     "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//返回真正数据")]),s._v("\n}).catch("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("err")]),s._v("=>")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("throw")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Error")]),s._v("(err)\n})\n")])]),a("p",[s._v("其中Fetch的Get方法可以直接写在请求的url上面拼接即可"),a("br"),s._v("Post和Get请求的头部不相同")]),a("ul",[a("li",[s._v("post：{'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'}")]),a("li",[s._v("get：{'Content-Type': 'application/json;charset=utf-8'}")])]),a("hr"),a("p",[a("a",{attrs:{name:"yKkIm"}})]),a("h3",[s._v("封装接口")]),a("p",[s._v("由上面普通的请求可以进一步封装，方便调用"),a("br"),s._v("引入qsnpm install qs -s")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" qs "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'qs'")]),s._v("\n")])]),a("p",[s._v("在src（或者具体目录下）新建util.js文件用于存储封装的url")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取首页“文章推荐”")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("getIndexEssay")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("methods, data")]),s._v(") ")]),s._v("{\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" fetch("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/api/getIndexEssay'")]),s._v(",\n      {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("method")]),s._v(": methods, "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("headers")]),s._v(": header, "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("body")]),s._v(": qs.stringify(data)}).then("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("res")]),s._v("=>")]),s._v("{\n         "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" res.json();\n   }).then("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("res")]),s._v("=>")]),s._v("{\n   \t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" res.json();\n   })\n}\n")])]),a("p",[s._v("在vue中引入js文件，然后调用接口")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("allUrls.dologin({\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//所需要的参数")]),s._v("\n},"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'post'")]),s._v(").then("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("res")]),s._v("=>")]),s._v("{ "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//get的话直接拼接参数 后续可以封装get、post一起")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(res); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//res即为数据")]),s._v("\n}).catch("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("err")]),s._v("=>")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(err);\n})\n")])]),a("hr"),a("p",[a("a",{attrs:{name:"RG2No"}})]),a("h3",[s._v("跨域问题")]),a("p",[s._v("在Vue请求Fetch中，前后端分离的话需要进行跨域，在vue目录中新建vue.config.js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(".exports = {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//请求代理")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("devServer")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("proxy")]),s._v(": {\n            "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/api'")]),s._v(": {  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('//使用"/api"来代替"http://xxxx.cn"')]),s._v("\n                  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("target")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http://localhost:8881'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//源地址 （接口域名）")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//target: 'http://192.168.0.104:8881', //源地址 （接口域名）")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ws")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("changeOrigin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//改变源 （是否跨域）")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("pathRewrite")]),s._v(": {\n                     "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'^/api'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'localhost:8881'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//路径重写 (正常请求接口的简写)")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//'^/api': 'http://192.168.0.104:8881' //路径重写 (正常请求接口的简写)")]),s._v("\n                }\n            }\n        }\n    },\n}\n")])])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},ef02:function(s,t,a){"use strict";a("cc3b")},f06b:function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",[s._v("JavaScript 柯里化函数")]),a("p",[a("a",{attrs:{name:"tlSmG"}})]),a("h3",[s._v("柯里化函数定义")]),a("p",[s._v("所谓柯里化函数，就是将一个多传参的函数封装成一个可以分开传参的函数，并且可以多次调用、复用")]),a("blockquote",[a("p",[s._v("_维基百科_的"),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E6%259F%25AF%25E9%2587%258C%25E5%258C%2596"}},[s._v("解释")]),s._v("是：把接收多个参数的函数变换成接收一个单一参数（最初函数的第一个参数）的函数，并返回接受剩余的参数而且返回结果的新函数的技术。其由数学家Haskell Brooks Curry提出，并以curry命名。")])]),a("blockquote",[a("p",[s._v("作者：南宫__ 链接："),a("a",{attrs:{href:"https://www.jianshu.com/p/7fa99a4bee8b"}},[s._v("https://www.jianshu.com/p/7fa99a4bee8b")]),s._v(" 来源：简书")])]),a("blockquote",[a("p",[s._v("著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。")])]),a("p",[a("br"),s._v("下面这个是一个简单的例子，如果需要两个参数相加")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("add")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("a,b")]),s._v(")")]),s._v("{\n\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" a+b;\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//add(2,5)输出出来的结果是7")]),s._v("\n")])]),a("p",[s._v("如果使用柯里化函数进行封装编写的话")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("add")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("a")]),s._v(")")]),s._v("{\n\t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("b")]),s._v(")")]),s._v("{\n  \t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" a+b;\n  }\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//那么可以执行add(2)(5),也是得到同样的结果")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//或者使用es6语法编写")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("add")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("a")]),s._v(")")]),s._v("{\n "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("b")]),s._v(")=>")]),s._v("{\n \t"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" a+b;\n }\n}\n")])]),a("p",[s._v("上述代码可以看到，我们将add(2,5)拆分成了add(2)(5)使用")]),a("blockquote",[a("p",[a("strong",[s._v("柯里化背后的逻辑就是获取一个函数并派生出一个返回特殊函数的函数")]),s._v("，它实际上是一种思想，或者说是一种程序设计模式。")])]),a("p",[a("a",{attrs:{name:"CEW93"}})]),a("h3",[s._v("下面是柯里化的一个应用")]),a("blockquote",[a("p",[s._v("引用来自"),a("a",{attrs:{href:"https://www.jianshu.com/p/7fa99a4bee8b"}},[s._v("https://www.jianshu.com/p/7fa99a4bee8b")])])]),a("p",[s._v("举个例子，你有一家商店，然后你想给你的优惠顾客10%的折扣："),a("br"),s._v("正常写法")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("discount")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("price, discount")]),s._v(") ")]),s._v("{\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" price * discount\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当一个顾客消费了500元")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" price = discount("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("500")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// $50")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 从长远看，你的每一笔生意都要计算10%的折扣")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" price = discount("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1500")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// $150")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" price = discount("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2000")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// $200")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" price = discount("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("50")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// $5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" price = discount("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// $30")]),s._v("\n\n")])]),a("p",[s._v("使用柯里化函数")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 将这个函数柯里化，然后我们就不用每次都写那0.1了")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("discount")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("discount")]),s._v(") ")]),s._v("{\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("price")]),s._v(") =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" price * discount\n  }\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" tenPercentDiscount = discount("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 现在，我们只需用商品价格来计算就可以了：")]),s._v("\ntenPercentDiscount("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("500")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// $50")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 接下来，有些优惠顾客越来越重要，让我们称为vip顾客，然后我们要给20%的折扣，我们这样来使用柯里化了的discount函数：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" twentyPercentDiscount = discount("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.2")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 我们为vip顾客使用0.2调用柯里化discount函数来配置了一个新的函数。这个twentyPercentDiscount函数会被用来计算vip顾客的折扣：")]),s._v("\ntwentyPercentDiscount("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("500")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// $100")]),s._v("\ntwentyPercentDiscount("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3000")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// $600")]),s._v("\ntwentyPercentDiscount("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80000")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// $16000")]),s._v("\n")])]),a("p",[s._v("从上述的函数我们可以得知，如果一个方法设计我们只能确定一个参数，另外一个参数是可变的时候，我们可以使用柯里化函数进行封装，从而达到代码设计的高效、便捷，达到性能的一个提升。")])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports},f119:function(s,t,a){s.exports=a.p+"img/home_welcome.2598f91c.jpeg"},f7d0:function(s,t,a){},f871:function(s,t,a){}});
//# sourceMappingURL=app.7119a2bd.js.map